version: 1.1.{build}


dotnet_csproj:
  patch: true
  file: '**\*.csproj'
  version: '{version}'
  package_version: '{version}'
  assembly_version: '{version}'
  file_version: '{version}'
  informational_version: '{version}'

install:
  - npm install -g semantic-release@15
  - ps: |
    Set-AppveyorBuildVariable -Name "assembly_version" -Value "1.0.0"  
    Set-AppveyorBuildVariable -Name "assembly_file_version" -Value "1.0.0"  
    Set-AppveyorBuildVariable -Name "assembly_informational_version" -Value "1.0.0"

build_script:
  - cmd: dotnet publish -f netcoreapp2.1

test_script: 
  - cmd: dotnet test -f netcoreapp2.1

